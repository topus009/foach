(this.webpackJsonpfoach=this.webpackJsonpfoach||[]).push([[6],{126:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a(110),r=Object(o.a)({container:{padding:"0 20px",maxWidth:"1024px",margin:"auto"}})},166:function(e,t,a){"use strict";a.r(t);var o=a(41),r=a(134),n=a(0),c=a.n(n),l=a(20),i=a(115),d=a(164),s=a(37),u=a(21),p=u.a.GETWORKERS,b=u.a.PENDING,m=u.a.TOGGLEVACATIONCOMPLETED,h=u.a.GETWORKERSERROR;var k,g=a(26),f=a.n(g),v=a(1),O=a(2),E=(a(3),a(18)),j=a(119),y=a(19),C=a(25),_=a(167),w=a(15),x=c.a.forwardRef((function(e,t){var a=e.edge,o=void 0!==a&&a,r=e.children,n=e.classes,l=e.className,i=e.color,d=void 0===i?"default":i,s=e.disabled,u=void 0!==s&&s,p=e.disableFocusRipple,b=void 0!==p&&p,m=e.size,h=void 0===m?"medium":m,k=Object(O.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return c.a.createElement(_.a,Object(v.a)({className:Object(E.a)(n.root,l,"default"!==d&&n["color".concat(Object(w.a)(d))],u&&n.disabled,{small:n["size".concat(Object(w.a)(h))]}[h],{start:n.edgeStart,end:n.edgeEnd}[o]),centerRipple:!0,focusRipple:!b,disabled:u,ref:t},k),c.a.createElement("span",{className:n.label},r))})),I=Object(y.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(C.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(C.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(C.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(x),R=c.a.forwardRef((function(e,t){var a=e.autoFocus,o=e.checked,r=e.checkedIcon,n=e.classes,l=e.className,i=e.defaultChecked,d=e.disabled,s=e.icon,u=e.id,p=e.inputProps,b=e.inputRef,m=e.name,h=e.onBlur,k=e.onChange,g=e.onFocus,f=e.readOnly,y=e.required,C=e.tabIndex,_=e.type,w=e.value,x=Object(O.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),R=c.a.useRef(null!=o).current,S=c.a.useState(Boolean(i)),N=S[0],z=S[1],B=R?o:N,P=Object(j.a)(),F=d;P&&"undefined"===typeof F&&(F=P.disabled);var T="checkbox"===_||"radio"===_;return c.a.createElement(I,Object(v.a)({component:"span",className:Object(E.a)(n.root,l,B&&n.checked,F&&n.disabled),disabled:F,tabIndex:null,role:void 0,onFocus:function(e){g&&g(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){h&&h(e),P&&P.onBlur&&P.onBlur(e)},ref:t},x),c.a.createElement("input",Object(v.a)({autoFocus:a,checked:o,defaultChecked:i,className:n.input,disabled:F,id:T&&u,name:m,onChange:function(e){var t=e.target.checked;R||z(t),k&&k(e,t)},readOnly:f,ref:b,required:y,tabIndex:C,type:_,value:w},p)),B?r:s)})),S=Object(y.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(R),N=a(120),z=Object(N.a)(c.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),B=Object(N.a)(c.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),P=Object(N.a)(c.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),F=c.a.createElement(B,null),T=c.a.createElement(z,null),D=c.a.createElement(P,null),L=c.a.forwardRef((function(e,t){var a=e.checkedIcon,o=void 0===a?F:a,r=e.classes,n=e.color,l=void 0===n?"secondary":n,i=e.disabled,d=void 0!==i&&i,s=e.icon,u=void 0===s?T:s,p=e.indeterminate,b=void 0!==p&&p,m=e.indeterminateIcon,h=void 0===m?D:m,k=e.inputProps,g=Object(O.a)(e,["checkedIcon","classes","color","disabled","icon","indeterminate","indeterminateIcon","inputProps"]);return c.a.createElement(S,Object(v.a)({type:"checkbox",checkedIcon:b?h:o,classes:{root:Object(E.a)(r.root,r["color".concat(Object(w.a)(l))],b&&r.indeterminate),checked:r.checked,disabled:r.disabled},color:l,inputProps:Object(v.a)({"data-indeterminate":b},k),icon:b?h:u,ref:t,disabled:d},g))})),V=Object(y.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(C.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(C.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(L),$=(k=V,Object(y.a)({root:{padding:0}})(k)),H=function(e){return c.a.createElement($,Object.assign({},e,{disableRipple:!0,color:"primary"}))},M=a(110),W=Object(M.a)((function(e){return{worker:{"&:hover":{backgroundColor:e.palette.colors.worker_hover_bg_color}},worker_status:{cursor:"pointer",color:e.palette.colors.worker_status_color},completed:{color:e.palette.colors.worker_status_completed_color},checked:{backgroundColor:e.palette.colors.worker_checked_bg_color,"&:hover":{backgroundColor:e.palette.colors.worker_checked_hover_bg_color}}}})),G=function(e){var t=e.item,a=e.onSelect,o=e.checked,r=e.toggleCompleted,n=t.Title,l=t.ID,d=t.Completed,s=d?"\u0414\u0430":"\u041d\u0435\u0442",u=W(),p=f()(u.worker,o&&u.checked),b=f()(u.worker_status,d&&u.completed);return c.a.createElement("tr",{className:p},c.a.createElement("td",null,c.a.createElement(H,{onChange:function(){return a(l)},checked:o})),c.a.createElement("td",null,c.a.createElement(i.a,null,l)),c.a.createElement("td",null,c.a.createElement(i.a,null,n)),c.a.createElement("td",{className:b,onClick:function(){return r([l])}},c.a.createElement(i.a,null,s)))},q=function(e){return e.map((function(e){return"".concat(e)}))},A=Object(M.a)((function(e){return{workers:{borderCollapse:"separate",borderSpacing:"10px 0",color:e.palette.colors.worker_color},workers_header_status:{display:"flex"},workers_header_status_btn:{marginLeft:"10px",lineHeight:"14px",color:e.palette.colors.workers_header_status_btn_color,backgroundColor:e.palette.colors.workers_header_status_btn_bg_color,padding:"0 2px",textTransform:"none"}}})),J=a(126),K=function(e){var t=e.workers,a=e.loading,l=e.getWorkers,s=e.toggleVacationCompleted,u=Object(n.useState)([]),p=Object(r.a)(u,2),b=p[0],m=p[1],h=Object(n.useState)(!1),k=Object(r.a)(h,2),g=k[0],f=k[1],v=Object(n.useCallback)((function(){return l()}),[l]);Object(n.useEffect)((function(){v()}),[v]);var O=Object.keys(t),E=O.length,j=Object(n.useCallback)((function(e){return b.includes(e)}),[b]),y=Object(n.useCallback)((function(e){if(j(e))m(b.filter((function(t){return t!==e}))),f(!1);else{var t=[].concat(Object(o.a)(b),[e]);m(t),t.length===E&&f(!0)}}),[b,E,f,j,m]),C=Object(n.useCallback)((function(e){var a=e.target.checked;f(a),m(a?O.map((function(e){return t[e].ID})):[])}),[t,O,m,f]),_=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(q(e))}),[s]),w=A(),x=Object(J.a)();return c.a.createElement("div",{className:x.container},!a&&O.length?c.a.createElement("table",{className:w.workers},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(H,{onChange:C,checked:g})),c.a.createElement("th",null,c.a.createElement(i.a,null,"ID")),c.a.createElement("th",null,c.a.createElement(i.a,null,"\u0420\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0438")),c.a.createElement("th",{className:w.workers_header_status},c.a.createElement(i.a,null,"\u0412 \u043e\u0442\u043f\u0443\u0441\u043a\u0435"),b.length?c.a.createElement(d.a,{className:w.workers_header_status_btn,onClick:function(e){e.stopPropagation(),s(q(b))},disabled:!b.length},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"):null))),c.a.createElement("tbody",null,O.map((function(e){var a=t[e];return c.a.createElement(G,{key:a.ID,item:a,onSelect:y,checked:j(a.ID),toggleCompleted:_})})))):null)};K.defaultProps={workers:{},loading:!1};t.default=Object(l.b)((function(e){var t=e.app;return{workers:t.workers,loading:t.loading}}),(function(e){return{getWorkers:function(){return e((function(e){return e({type:b}),s.a.workers.getWorkers().then((function(t){e({type:p,payload:t})})).catch((function(t){return console.error({err:t}),e({type:h})}))}))},toggleVacationCompleted:function(t){return e({type:m,payload:t})}}}))(K)}}]);
//# sourceMappingURL=6.6171c61c.chunk.js.map